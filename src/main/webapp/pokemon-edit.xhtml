<!DOCTYPE html>
<html lang="en"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="jakarta.faces.facelets"
      xmlns:h="jakarta.faces.html"
      xmlns:f="jakarta.faces.core">
<ui:composition template="/template.xhtml">
    <f:metadata>
        <f:viewParam name="id" value="#{pokemonEdit.id}" required="true" />
        <f:viewAction action="#{pokemonEdit.init()}" />
    </f:metadata>
    <ui:define name="header">#{msg['pokemon.edit']}</ui:define>
    <ui:define name="content">
        <h2>#{msg['pokemon.editData']}</h2>
        <h:messages globalOnly="true" />
        <h:form onreset="" enctype="multipart/form-data">
            <h:panelGroup rendered="#{pokemonEdit.userInputPokemon != null}">
                <div style="background-color: #fff3cd; padding: 10px; margin-bottom: 10px; border: 1px solid #ffc107;">
                    <p><strong>#{msg['pokemon.conflict.title']}</strong></p>
                    <p>#{msg['pokemon.conflict.description']}</p>
                    <h:commandButton value="#{msg['pokemon.conflict.restore']}" action="#{pokemonEdit.restoreUserInputAction()}" />
                </div>
            </h:panelGroup>
            <div>
                <h:outputLabel for="name" value="#{msg['pokemon.name']}:" />
                <h:inputText id="name" value="#{pokemonEdit.pokemon.name}" required="true" />
                <h:message for="name" styleClass="error" />
            </div>
            <div>
                <h:outputLabel for="region" value="#{msg['pokemon.region']}:" />
                <h:selectOneMenu id="region" value="#{pokemonEdit.pokemon.region}" converter="regionConverter" required="true">
                    <f:selectItem itemValue="#{null}" itemLabel="#{msg['pokemon.selectRegion']}" noSelectionOption="true" />
                    <f:selectItems value="#{pokemonEdit.allRegions}"
                                   var="region"
                                   itemValue="#{region}"
                                   itemLabel="#{region.name}" />
                </h:selectOneMenu>
                <h:message for="region" />
            </div>
            <div>
                <h:outputLabel for="type" value="#{msg['pokemon.type']}:" />
                <h:selectOneMenu id="type" value="#{pokemonEdit.pokemon.type}" required="true" converter="pokemonTypeConverter">
                    <f:selectItems value="#{pokemonEdit.allPokemonTypes}"
                                   var="type"
                                   itemValue="#{type}"
                                   itemLabel="#{type}" />
                </h:selectOneMenu>
            </div>
            <div>
                <h:outputLabel for="level" value="#{msg['pokemon.level']}:" />
                <h:inputText id="level" value="#{pokemonEdit.pokemon.level}" required="true" />
                <h:message for="level" styleClass="error" />
            </div>
            <div>
                <h:outputLabel for="hitPoints" value="#{msg['pokemon.hitPoints']}:" />
                <h:inputText id="hitPoints" value="#{pokemonEdit.pokemon.hitPoints}" required="true" />
                <h:message for="hitPoints" styleClass="error" />
            </div>
            <div>
                <h:outputLabel for="attack" value="#{msg['pokemon.attack']}:" />
                <h:inputText id="attack" value="#{pokemonEdit.pokemon.attack}" required="true" />
                <h:message for="attack" styleClass="error" />
            </div>
            <div>
                <h:outputLabel for="defence" value="#{msg['pokemon.defence']}:" />
                <h:inputText id="defence" value="#{pokemonEdit.pokemon.defence}" required="true" />
                <h:message for="defence" styleClass="error" />
            </div>
            <div>
                <h:outputLabel for="specialAttack" value="#{msg['pokemon.specialAttack']}:" />
                <h:inputText id="specialAttack" value="#{pokemonEdit.pokemon.specialAttack}" required="true" />
                <h:message for="specialAttack" styleClass="error" />
            </div>
            <div>
                <h:outputLabel for="specialDefence" value="#{msg['pokemon.specialDefence']}:" />
                <h:inputText id="specialDefence" value="#{pokemonEdit.pokemon.specialDefence}" required="true" />
                <h:message for="specialDefence" styleClass="error" />
            </div>
            <div>
                <h:outputLabel for="speed" value="#{msg['pokemon.speed']}:" />
                <h:inputText id="speed" value="#{pokemonEdit.pokemon.speed}" required="true" />
                <h:message for="speed" styleClass="error" />
            </div>
            <div>
                <p><strong>#{msg['pokemon.version']}:</strong> #{pokemonEdit.pokemon.version}</p>
                <p><strong>#{msg['pokemon.createdAt']}:</strong> #{pokemonEdit.pokemon.createdAt}</p>
                <p><strong>#{msg['pokemon.updatedAt']}:</strong> #{pokemonEdit.pokemon.updatedAt}</p>
            </div>
            <h:commandButton value="#{msg['common.update']}" action="#{pokemonEdit.saveAction()}" />
        </h:form>
    </ui:define>
</ui:composition>
</html>